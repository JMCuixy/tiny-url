# tiny-url
like https://app.bitly.com url shorten function with springboot

#### 什么是短链接?

就是把普通网址，转换成比较短的网址。比如：https://bit.ly/2sad9ss22 这种，在短消息推送这种限制字数的场景下。好处不言而喻。短、字符少、美观、便于发布、传播

#### 原理

假设浏览器里输入  https://bit.ly/2sad9ss22

1.DNS首先解析获得 https://bit.ly/ 的 IP 地址

2.DNS 获得 IP 地址以后（比如：192.168.0.1），会向这个地址发送 HTTP GET 请求，查询短码 2sad9ss22

3.https://bit.ly/ 服务器会通过短链接后缀 2sad9ss22 获取对应的长链接

4.请求通过 HTTP 302 转到对应的长链接 https://cn.bing.com/

#### 为什么是 302 ?

301是永久重定向，302是临时重定向。短链接一经生成就不会变化，301虽然符合 http 语义。同时也对服务器压力也会有一定减少

但我们就无法统计短链接被点击的次数。不能进行后续的大数据统计分析。

而302可统计被点击次数,,虽然302会增加服务器压力，但方便后续大数据统计分析

#### 本项目实现算法
目前短链接服务有两种实现算法

1.自增序列算法 

2.摘要算法

本项目使用的是第1种自增序列算法

#### 自增序列算法说明

设置 id 自增，一个 10进制 id 对应一个 62进制的数值，1对1，也就不会出现重复的情况。这个利用的就是低进制转化为高进制时，字符数会减少的特性。

短址的长度一般设为 6 位，而每一位是由 [a - z, A - Z, 0 - 9] 总共 62 个字母组成的，所以 6 位的话，总共会有 62^6 ~= 568亿种组合

#### 项目流程图

本项目除了实现上述算法之外,另外学习bitly增加短链接自定义功能,且使用了redis缓存来减轻生成短链接时,对数据库的读取压力

下列流程图来源百度短链接服务实现流程图,和本项目代码略微有点出入,具体以代码为准



